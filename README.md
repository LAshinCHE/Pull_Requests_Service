# Pull_Requests_Service

---
PullRequestsService - это REST-сервис для управления командами, пользователями и автоматического распределения ревьюверов в Pull Request'ах.

### Ключевые функции

| Эндпоинт | Описание |
|--------|---------|
| POST /team/add | Создать команду + участников (с upsert) |
| GET /team/get | Получить команду и активных участников |
| POST /users/setIsActive | Вкл/выкл пользователя |
| POST /pullRequest/create | Создать PR → автоматически назначить до 2 ревьюверов из команды автора |
| POST /pullRequest/merge | Пометить PR как MERGED |
| POST /pullRequest/reassign | Заменить ревьювера на другого из команды |
| GET /users/getReview | PR'ы, где пользователь — ревьювер |

---


### Готов к запуску через docker-compose 
```sh
docker-compose up --build
```

### Проблемы с которыми столкнулся 

1. Нехватка времени

    Нехватило времени для написания тестов и более комплесного тестирования сервиса.

    Решение: Постарался сделать MVP так что бы сервис запускался и работали основные endpoint

2. Разделение ответственности по сервисам 

    Архитектура приложения должна была строится таким образом что каждый сервис взаимодействует только со своим репозиторием, но в рамках заданого срока такого подхода не получилось добиться и получилось, что PullRequest хранит в себе и pr, и user репозитории
    ```go
    package service

    type PullRequest struct {
        prRepo   repository.PullRequest
        userRepo repository.User
    }
    ```

3. Настройка контейнера и написание запросов

    Настройка контейнера и написание бд запросов вызвало баги, которые в процессе были пофикшены